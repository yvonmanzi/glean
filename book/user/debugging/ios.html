<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>iOS - Glean - Cross-platform Telemetry library</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../../glean.css">
        
        <link rel="stylesheet" href="../../mermaid.css">
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> Glean</a></li><li class="chapter-item expanded "><a href="../../user/index.html"><strong aria-hidden="true">2.</strong> Using the Glean SDK</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../user/adding-glean-to-your-project.html"><strong aria-hidden="true">2.1.</strong> Adding Glean to your project</a></li><li class="chapter-item expanded "><a href="../../user/general-api.html"><strong aria-hidden="true">2.2.</strong> The General API</a></li><li class="chapter-item expanded "><a href="../../user/adding-new-metrics.html"><strong aria-hidden="true">2.3.</strong> Adding new metrics</a></li><li class="chapter-item expanded "><a href="../../user/metric-parameters.html"><strong aria-hidden="true">2.4.</strong> Metric parameters</a></li><li class="chapter-item expanded "><a href="../../user/testing-metrics.html"><strong aria-hidden="true">2.5.</strong> Testing metrics</a></li><li class="chapter-item expanded "><a href="../../user/debugging/index.html"><strong aria-hidden="true">2.6.</strong> Debugging products using Glean</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../user/debugging/debug-ping-view.html"><strong aria-hidden="true">2.6.1.</strong> Glean Debug Ping View</a></li><li class="chapter-item expanded "><a href="../../user/debugging/android.html"><strong aria-hidden="true">2.6.2.</strong> Android</a></li><li class="chapter-item expanded "><a href="../../user/debugging/ios.html" class="active"><strong aria-hidden="true">2.6.3.</strong> iOS</a></li><li class="chapter-item expanded "><a href="../../user/debugging/python.html"><strong aria-hidden="true">2.6.4.</strong> Python</a></li></ol></li><li class="chapter-item expanded "><a href="../../user/error-reporting.html"><strong aria-hidden="true">2.7.</strong> Error reporting</a></li><li class="chapter-item expanded "><a href="../../user/experiments-api.html"><strong aria-hidden="true">2.8.</strong> Using the experiments API</a></li><li class="chapter-item expanded "><a href="../../user/metrics/index.html"><strong aria-hidden="true">2.9.</strong> Metric types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../user/metrics/boolean.html"><strong aria-hidden="true">2.9.1.</strong> Boolean</a></li><li class="chapter-item expanded "><a href="../../user/metrics/labeled_booleans.html"><strong aria-hidden="true">2.9.2.</strong> Labeled Booleans</a></li><li class="chapter-item expanded "><a href="../../user/metrics/counter.html"><strong aria-hidden="true">2.9.3.</strong> Counter</a></li><li class="chapter-item expanded "><a href="../../user/metrics/labeled_counters.html"><strong aria-hidden="true">2.9.4.</strong> Labeled Counters</a></li><li class="chapter-item expanded "><a href="../../user/metrics/string.html"><strong aria-hidden="true">2.9.5.</strong> String</a></li><li class="chapter-item expanded "><a href="../../user/metrics/labeled_strings.html"><strong aria-hidden="true">2.9.6.</strong> Labeled Strings</a></li><li class="chapter-item expanded "><a href="../../user/metrics/string_list.html"><strong aria-hidden="true">2.9.7.</strong> String List</a></li><li class="chapter-item expanded "><a href="../../user/metrics/timespan.html"><strong aria-hidden="true">2.9.8.</strong> Timespan</a></li><li class="chapter-item expanded "><a href="../../user/metrics/timing_distribution.html"><strong aria-hidden="true">2.9.9.</strong> Timing Distribution</a></li><li class="chapter-item expanded "><a href="../../user/metrics/memory_distribution.html"><strong aria-hidden="true">2.9.10.</strong> Memory Distribution</a></li><li class="chapter-item expanded "><a href="../../user/metrics/uuid.html"><strong aria-hidden="true">2.9.11.</strong> UUID</a></li><li class="chapter-item expanded "><a href="../../user/metrics/datetime.html"><strong aria-hidden="true">2.9.12.</strong> Datetime</a></li><li class="chapter-item expanded "><a href="../../user/metrics/event.html"><strong aria-hidden="true">2.9.13.</strong> Event</a></li><li class="chapter-item expanded "><a href="../../user/metrics/custom_distribution.html"><strong aria-hidden="true">2.9.14.</strong> Custom Distribution</a></li><li class="chapter-item expanded "><a href="../../user/metrics/quantity.html"><strong aria-hidden="true">2.9.15.</strong> Quantity</a></li></ol></li><li class="chapter-item expanded "><a href="../../user/pings/index.html"><strong aria-hidden="true">2.10.</strong> Pings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../user/pings/ping-schedules-and-timings.html"><strong aria-hidden="true">2.10.1.</strong> Ping schedules and timings overview</a></li><li class="chapter-item expanded "><a href="../../user/pings/baseline.html"><strong aria-hidden="true">2.10.2.</strong> Baseline Ping</a></li><li class="chapter-item expanded "><a href="../../user/pings/deletion_request.html"><strong aria-hidden="true">2.10.3.</strong> Deletion Request Ping</a></li><li class="chapter-item expanded "><a href="../../user/pings/metrics.html"><strong aria-hidden="true">2.10.4.</strong> Metrics Ping</a></li><li class="chapter-item expanded "><a href="../../user/pings/events.html"><strong aria-hidden="true">2.10.5.</strong> Events Ping</a></li><li class="chapter-item expanded "><a href="../../user/pings/custom.html"><strong aria-hidden="true">2.10.6.</strong> Custom Pings</a></li><li class="chapter-item expanded "><a href="../../user/pings/testing-custom-pings.html"><strong aria-hidden="true">2.10.7.</strong> Testing custom pings</a></li></ol></li><li class="chapter-item expanded "><a href="../../user/android-build-configuration-options.html"><strong aria-hidden="true">2.11.</strong> Android build configuration options</a></li><li class="chapter-item expanded "><a href="../../user/focused-use-cases.html"><strong aria-hidden="true">2.12.</strong> Focused Use Cases</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../user/instrument-android-crashes-example.html"><strong aria-hidden="true">2.12.1.</strong> Instrumenting Android Crashes With Glean</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../user/collected-metrics/metrics.html"><strong aria-hidden="true">3.</strong> Metrics collected by the Glean SDK</a></li><li class="chapter-item expanded "><a href="../../dev/index.html"><strong aria-hidden="true">4.</strong> Developing the Glean SDK</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/testing.html"><strong aria-hidden="true">4.1.</strong> Testing</a></li><li class="chapter-item expanded "><a href="../../dev/docs.html"><strong aria-hidden="true">4.2.</strong> Developing documentation</a></li><li class="chapter-item expanded "><a href="../../dev/android/index.html"><strong aria-hidden="true">4.3.</strong> Android bindings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/android/setup-android-build-environment.html"><strong aria-hidden="true">4.3.1.</strong> Setup Build Environment</a></li><li class="chapter-item expanded "><a href="../../dev/android/sdk-ndk-versions.html"><strong aria-hidden="true">4.3.2.</strong> Android SDK/NDK versions</a></li><li class="chapter-item expanded "><a href="../../dev/android/development-with-android-components.html"><strong aria-hidden="true">4.3.3.</strong> Development with android-components</a></li><li class="chapter-item expanded "><a href="../../dev/android/locally-published-components-in-fenix.html"><strong aria-hidden="true">4.3.4.</strong> Locally-published components in Fenix</a></li></ol></li><li class="chapter-item expanded "><a href="../../dev/ios/index.html"><strong aria-hidden="true">4.4.</strong> iOS bindings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/ios/setup-ios-build-environment.html"><strong aria-hidden="true">4.4.1.</strong> Setup Build Environment</a></li><li class="chapter-item expanded "><a href="../../dev/ios/debug-glean-on-ios.html"><strong aria-hidden="true">4.4.2.</strong> Debugging Different Versions of Glean</a></li></ol></li><li class="chapter-item expanded "><a href="../../dev/python/index.html"><strong aria-hidden="true">4.5.</strong> Python bindings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/python/setting-up-python-build-environment.html"><strong aria-hidden="true">4.5.1.</strong> Setup Build Environment</a></li></ol></li><li class="chapter-item expanded "><a href="../../dev/core/index.html"><strong aria-hidden="true">4.6.</strong> Rust Component</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/core/dependency-management.html"><strong aria-hidden="true">4.6.1.</strong> Dependency Management</a></li><li class="chapter-item expanded "><a href="../../dev/core/new-metric-type.html"><strong aria-hidden="true">4.6.2.</strong> Adding a new metric type</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/core/new-metric-type/ffi.html"><strong aria-hidden="true">4.6.2.1.</strong> FFI</a></li><li class="chapter-item expanded "><a href="../../dev/core/new-metric-type/kotlin.html"><strong aria-hidden="true">4.6.2.2.</strong> Kotlin</a></li><li class="chapter-item expanded "><a href="../../dev/core/new-metric-type/swift.html"><strong aria-hidden="true">4.6.2.3.</strong> Swift</a></li><li class="chapter-item expanded "><a href="../../dev/core/new-metric-type/python.html"><strong aria-hidden="true">4.6.2.4.</strong> Python</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../dev/ffi/index.html"><strong aria-hidden="true">4.7.</strong> FFI Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/ffi/when-to-use-what-in-the-ffi.html"><strong aria-hidden="true">4.7.1.</strong> When/How FFI</a></li></ol></li><li class="chapter-item expanded "><a href="../../contributing.html"><strong aria-hidden="true">4.8.</strong> Contributing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../code_coverage.html"><strong aria-hidden="true">4.8.1.</strong> Code coverage</a></li></ol></li><li class="chapter-item expanded "><a href="../../dev/cut-a-new-release.html"><strong aria-hidden="true">4.9.</strong> Release process</a></li><li class="chapter-item expanded "><a href="../../dev/core/internal/index.html"><strong aria-hidden="true">4.10.</strong> Internal implementation details</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/core/internal/reserved-ping-names.html"><strong aria-hidden="true">4.10.1.</strong> Reserved ping names</a></li><li class="chapter-item expanded "><a href="../../dev/core/internal/clearing.html"><strong aria-hidden="true">4.10.2.</strong> Clearing metrics when disabling/enabling Glean</a></li><li class="chapter-item expanded "><a href="../../dev/core/internal/payload.html"><strong aria-hidden="true">4.10.3.</strong> Payload format</a></li><li class="chapter-item expanded "><a href="../../dev/core/internal/directory-structure.html"><strong aria-hidden="true">4.10.4.</strong> Directory structure</a></li><li class="chapter-item expanded "><a href="../../dev/core/internal/debug-pings.html"><strong aria-hidden="true">4.10.5.</strong> Debug Pings</a></li><li class="chapter-item expanded "><a href="../../dev/core/internal/upload.html"><strong aria-hidden="true">4.10.6.</strong> Upload mechanism</a></li><li class="chapter-item expanded "><a href="../../dev/core/internal/implementations.html"><strong aria-hidden="true">4.10.7.</strong> Implementations</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../api/index.html"><strong aria-hidden="true">5.</strong> API Documentation</a></li><li class="chapter-item expanded "><a href="../../appendix/index.html"><strong aria-hidden="true">6.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../appendix/glossary.html"><strong aria-hidden="true">6.1.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="../../appendix/changelog.html"><strong aria-hidden="true">6.2.</strong> Changelog</a></li><li class="chapter-item expanded "><a href="../../appendix/twig.html"><strong aria-hidden="true">6.3.</strong> This Week in Glean</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Glean - Cross-platform Telemetry library</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/mozilla/glean" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#debugging-ios-applications-using-the-glean-sdk" id="debugging-ios-applications-using-the-glean-sdk">Debugging iOS applications using the Glean SDK</a></h1>
<p>For debugging and validation purposes on iOS, Glean makes use of a custom URL scheme which is implemented <em>within the application</em> that is consuming Glean.  Glean provides some convenience functions to facilitate this, but it's up to the consuming application to enable this functionality.  Applications that enable this Glean SDK feature will be able to launch the application from a URL with the Glean debug commands embedded in the URL itself.</p>
<h3><a class="header" href="#available-commands-and-query-format" id="available-commands-and-query-format">Available commands and query format</a></h3>
<p>There are 3 available commands that you can use with the Glean SDK debug tools</p>
<ul>
<li><code>logPings</code>: This is either true or false and will cause pings that are submitted to also be echoed to the device's log</li>
<li><code>tagPings</code>: This command will tag outgoing pings with the provided value, in order to identify them in the Glean Debug View. Tags need to be string with upper and lower case letters, numbers and dashes, with a max length of 20 characters.</li>
<li><code>sendPing</code>: This command expects a string name of a ping to force immediate collection and submission of.</li>
</ul>
<p>The structure of the custom URL uses the following format:</p>
<p><code>&lt;protocol&gt;://glean?&lt;command 1&gt;=&lt;paramter 1&gt;&amp;&lt;command 2&gt;=&lt;parameter 2&gt; ...</code></p>
<p>Where:</p>
<ul>
<li><code>&lt;protocol&gt;</code> is the &quot;URL Scheme&quot; that has been added for your app (see Instrumenting the application below), such as <code>glean-sample-app</code>.</li>
<li>This is followed by <code>://</code> and then <code>glean</code> which is required for the Glean SDK to recognize the command is meant for it to process.</li>
<li>Following standard URL query format, the next character after <code>glean</code> is the <code>?</code> indicating the beginning of the query.</li>
<li>This is followed by one or more queries in the form of <code>&lt;command&gt;=&lt;parameter&gt;</code>, where the command is one of the commands listed above, followed by an <code>=</code> and then the value or parameter to be used with the command.</li>
</ul>
<p>There are a few things to consider when creating the custom URL:</p>
<ul>
<li>Invalid commands will log an error and cause the entire URL to be ignored.</li>
<li>Not all commands are required to be encoded in the URL, you can mix and match the commands that you need.</li>
<li>Multiple instances of commands are not allowed in the same URL and, if present, will cause the entire URL to be ignored.</li>
<li>The <code>logPings</code> command doesn't trigger ping submission and you won't see any output until a ping has been submitted. You can use the <code>sendPings</code> command to force a ping to be sent, but it could be more desirable to trigger the pings submission on their normal schedule. For instance, the <code>baseline</code> and <code>events</code> pings can be triggered by moving the app out of the foreground and the <code>metrics</code> ping can be triggered normally if it is overdue for the current calendar day. See the <a href="../pings/index.html">ping documentation</a> for more information on ping scheduling to learn when pings are sent.</li>
</ul>
<h3><a class="header" href="#instrumenting-the-application-for-glean-debug-functionality" id="instrumenting-the-application-for-glean-debug-functionality">Instrumenting the application for Glean debug functionality</a></h3>
<p>In order to enable the debugging features in a Glean SDK consuming iOS application, it is necessary to add some information to the application's <code>Info.plist</code>, and add a line and possibly an override for a function in the <code>AppDelegate.swift</code>.</p>
<h4><a class="header" href="#register-custom-url-scheme-in-infoplist" id="register-custom-url-scheme-in-infoplist">Register custom URL scheme in <code>Info.plist</code></a></h4>
<blockquote>
<p><strong>Note:</strong> If your application already has a custom URL scheme implemented, there is no need to implement a second scheme, you can simply use that and skip to the next section about adding the convenience method.  If the app doesn't have a custom URL scheme implemented, then you will need to perform the following instructions to register your app to receive custom URLs.</p>
</blockquote>
<p>Find and open the application's <code>Info.plist</code> and right click any blank area and select <code>Add Row</code> to create a new key.</p>
<p>You will be prompted to select a key from a drop-down menu, scroll down to and select <code>URL types</code>.  This creates an array item, which can be expanded by clicking the triangle disclosure icon.</p>
<p>Select <code>Item 0</code>, click on it and click the disclosure icon to expand it and show the <code>URL identifier</code> line.  Double-click the value field and fill in your identifier, typically the same as the bundle ID.</p>
<p>Right-click on <code>Item 0</code> and select <code>Add Row</code> from the context menu.  In the dropdown menu, select <code>URL Schemes</code> to add the item.</p>
<p>Click on the disclosure icon of <code>URL Schemes</code> to expand the item, double-click the value field of <code>Item 0</code> and key in the value for your application's custom scheme.  For instance, the Glean sample app uses <code>glean-sample-app</code>, which allows for custom URLs to be crafted using that as a protocol, for example: <code>glean-sample-app://glean?logPings=true</code></p>
<h4><a class="header" href="#add-the-gleanhandlecustomurl-convenience-function-and-necessary-overrides" id="add-the-gleanhandlecustomurl-convenience-function-and-necessary-overrides">Add the <code>Glean.handleCustomUrl()</code> convenience function and necessary overrides</a></h4>
<p>In order to handle the incoming Glean SDK debug commands, it is necessary to implement the override in the application's <code>AppDelegate.swift</code> file.  Within that function, you can make use of the convenience function provided in Glean <code>handleCustomUrl(url: URL)</code>.</p>
<p>An example of a simple implementation of this would look like this:</p>
<pre><code class="language-Swift">func application(_: UIApplication,
                 open url: URL,
                 options _: [UIApplication.OpenURLOptionsKey: Any] = [:]) -&gt; Bool {
    // ...

    // This does nothing if the url isn't meant for Glean.
    Glean.shared.handleCustomUrl(url: url)

    // ...

    return true
}
</code></pre>
<p>If you need additional help setting up a custom URL scheme in your application, please refer to <a href="https://developer.apple.com/documentation/uikit/inter-process_communication/allowing_apps_and_websites_to_link_to_your_content/defining_a_custom_url_scheme_for_your_app">Apple's documentation</a>.</p>
<h3><a class="header" href="#invoking-the-glean-ios-debug-commands" id="invoking-the-glean-ios-debug-commands">Invoking the Glean-iOS debug commands</a></h3>
<p>Now that the app has the Glean SDK debug functionality enabled, there are a few ways in which we can invoke the debug commands.</p>
<h4><a class="header" href="#using-a-web-browser" id="using-a-web-browser">Using a web browser</a></h4>
<p>Perhaps the simplest way to invoke the Glean SDK debug functionality is to open a web browser and type/paste the custom URL into the address bar.  This is especially useful on an actual device because there isn't a good way to launch from the command line and process the URL for an actual device.</p>
<p>Using the glean-sample-app as an example: to activate ping logging, tag the pings to go to the Glean Debug View, and force the <code>events</code> ping to be sent, enter the following URL in a web browser on the iOS device:</p>
<pre><code class="language-shell">glean-sample-app://glean?logPings=true&amp;tagPings=My-ping-tag&amp;sendPing=events
</code></pre>
<p>This should cause iOS to prompt you with a dialog asking if you want to open the URL in the Glean Sample App, and if you select &quot;Okay&quot; then it will launch (or resume if it's already running) the application with the indicated commands and parameters and immediately force the collection and submission of the events ping.</p>
<blockquote>
<p><strong>Note:</strong> This method does not work if the browser you are using to input the command is the same application you are attempting to pass the Glean debug commands to.  So, you couldn't use Firefox for iOS to trigger commands within Firefox for iOS.</p>
</blockquote>
<p>It is also possible to encode the URL into a 2D barcode or QR code and launch the app via the camera app.  After scanning the encoded URL, the dialog prompting to launch the app should appear as if the URL were entered into the browser address bar.</p>
<h4><a class="header" href="#using-the-command-line" id="using-the-command-line">Using the command line</a></h4>
<p>This method is useful for testing via the Simulator, which typically requires a Mac with Xcode installed, including the Xcode command line tools.  In order to perform the same command as above with using the browser to input the URL, you can use the following command in the command line terminal of the Mac:</p>
<pre><code class="language-shell">xcrun simctl openurl booted &quot;glean-sample-app://glean?logPings=true&amp;tagPings=My-ping-tag&amp;sendPing=events&quot;
</code></pre>
<p>This will launch the simulator and again prompt the user with a dialog box asking if you want to open the URL in the Glean Sample App (or whichever app you are instrumenting and testing).</p>
<h3><a class="header" href="#glean-log-messages" id="glean-log-messages">Glean log messages</a></h3>
<p>If debugging in the simulator, the logging messages can be seen in the console window within Xcode.</p>
<p>When running a Glean-powered app in the iOS Simulator or on a device connected to your computer via cable, the following steps will help in getting the logs:</p>
<ol>
<li>Plug in the device and open Xcode</li>
<li>Choose Window -&gt; Devices from the menu bar</li>
<li>Under the DEVICES section in the left column, choose the device</li>
<li>To see the device console, click the up-triangle at the bottom left of the right hand panel</li>
</ol>
<blockquote>
<p><strong>Note:</strong> It is helpful to filter the console window by adding the keyword &quot;glean&quot; to the filter box.  This will allow you to see only messages generated by the Glean SDK.</p>
</blockquote>
<p>You can refer to <a href="https://developer.apple.com/library/archive/qa/qa1747/_index.html">this Apple technical Q&amp;A</a> for more information about debugging deployed iOS apps.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/mozilla/glean/edit/master/docs/user/debugging/ios.md">Edit this file on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../user/debugging/android.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../user/debugging/python.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../user/debugging/android.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../user/debugging/python.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="../../tabs.js"></script>
        
        <script type="text/javascript" src="../../mermaid.min.js"></script>
        
        <script type="text/javascript" src="../../mermaid-init.js"></script>
        

        

    </body>
</html>
